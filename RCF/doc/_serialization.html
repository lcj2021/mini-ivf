
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Remote Call Framework (RCF) - Delta V Software</title>
    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <!-- JL: Using timestamp here to prevent css file from being cached -->
    <link href="../css/website.css?<?php echo time(); ?>" rel="stylesheet" />
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="doxygenBase.css" rel="stylesheet" type="text/css" />
    <link href="doxyStylesheet.css" rel="stylesheet" type="text/css"/>
<link href="doxySidebarFixes.css" rel="stylesheet" type="text/css"/>
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet" />
    <script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body style="padding-top: 0px">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light navbar-fixed-top" style="top: 20px;">
        <!-- <nav class="navbar navbar-expand-lg fixed-top"> -->
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="RCF_Logo_70px.png" height="70" /> </img></a>
            <!--
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item" style="padding-top: 0px;">
                        <a class="nav-link" href="../index.html"><i class="fa fa-home"></i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Documentation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../download.html">Download</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../licensing.html">Licensing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../contact.html">Contact</a>
                    </li>
                </ul>
            </div>
                -->
        </div>
    </nav>
        <div class="container">
        <div class="row">
            <div class="col-lg-12">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Remote Call Framework 3.4
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_serialization.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Serialization </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#StandardCppTypes">Standard C++ Types</a></li>
<li class="level1"><a href="#UserDefined">User-defined Types</a></li>
<li class="level1"><a href="#BinaryData">Binary Data</a></li>
<li class="level1"><a href="#Portability">Portability</a></li>
<li class="level1"><a href="#StandAlone">Serialization To and From Disk</a></li>
</ul>
</div>
<div class="textblock"><p>Serialization is a fundamental part of every remote call. Remote call arguments need to be serialized into a binary format so they can be transmitted across the network, and once received, they need to be deserialized from a binary format back into regular C++ objects.</p>
<p>RCF provides a built-in serialization framework which handles serialization of common C++ types automatically, and can be customized to serialize arbitrary user-defined C++ types.</p>
<h1><a class="anchor" id="StandardCppTypes"></a>
Standard C++ Types</h1>
<p>Serialization of fundamental C++ types (<code>char</code>, <code>int</code>, <code>double</code>, etc) is handled automatically by RCF. Serialization of a number of other common and standard C++ types requires inclusion of the relevant header file:</p>
<table class="doxtable">
<tr>
<th>Type </th><th>Serialization header to include  </th></tr>
<tr>
<td><code>std::string, std::wstring, std::basic_string&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="string_8hpp_source.html">SF/string.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::vector&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="vector_8hpp_source.html">SF/vector.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::list&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="list_8hpp_source.html">SF/list.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::deque&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="deque_8hpp_source.html">SF/deque.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::set&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="set_8hpp_source.html">SF/set.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::map&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="map_8hpp_source.html">SF/map.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::pair&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="utility_8hpp_source.html">SF/utility.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::bitset&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="bitset_8hpp_source.html">SF/bitset.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::auto_ptr&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="auto__ptr_8hpp_source.html">SF/auto_ptr.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::unique_ptr&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="unique__ptr_8hpp_source.html">SF/unique_ptr.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::shared_ptr&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="shared__ptr_8hpp_source.html">SF/shared_ptr.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::tuple&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="tuple_8hpp_source.html">SF/tuple.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>std::array&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="array_8hpp_source.html">SF/array.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>boost::scoped_ptr&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="scoped__ptr_8hpp_source.html">SF/boost/scoped_ptr.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>boost::shared_ptr&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="boost_2shared__ptr_8hpp_source.html">SF/boost/shared_ptr.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>boost::intrusive_ptr&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="intrusive__ptr_8hpp_source.html">SF/boost/intrusive_ptr.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>boost::any</code> </td><td><code>#include &lt;<a class="el" href="_s_f_2boost_2_any_8hpp_source.html">SF/boost/any.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>boost::tuple&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="boost_2tuple_8hpp_source.html">SF/boost/tuple.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>boost::variant&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="variant_8hpp_source.html">SF/boost/variant.hpp</a>&gt;</code> </td></tr>
<tr>
<td><code>boost::array&lt;&gt;</code> </td><td><code>#include &lt;<a class="el" href="boost_2array_8hpp_source.html">SF/boost/array.hpp</a>&gt;</code> </td></tr>
</table>
<p>C++ enums are serialized automatically, as integers. Serialization of C++11 enum classes requires the use of a helper macro:</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="comment">// Legacy C++ enum. Automatically serialized as &#39;int&#39;.</span></div><div class="line"><span class="keyword">enum</span> Suit</div><div class="line">{</div><div class="line">    Heart = 1,</div><div class="line">    Diamond = 2,</div><div class="line">    Club = 2,</div><div class="line">    Spade = 2</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// C++11 enum class with custom base type (8 bit integer).</span></div><div class="line"><span class="keyword">enum class</span> Colors : std::int8_t </div><div class="line">{ </div><div class="line">    Red = 1, </div><div class="line">    Green = 2, </div><div class="line">    Blue = 3 </div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Use SF_SERIALIZE_ENUM_CLASS() to specify the base type of the enum class.</span></div><div class="line"><a class="code" href="_serializer_8hpp.html#a2c4ca9c15976a97da7fc0b74d896e173">SF_SERIALIZE_ENUM_CLASS</a>(Colors, std::int8_t)</div><div class="line"></div></div><!-- fragment --><h1><a class="anchor" id="UserDefined"></a>
User-defined Types</h1>
<p>If you take a class of your own, and use it in an RCF interface:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Point3D</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">double</span> mX;</div><div class="line">    <span class="keywordtype">double</span> mY;</div><div class="line">    <span class="keywordtype">double</span> mZ;</div><div class="line">};</div><div class="line"></div><div class="line">RCF_BEGIN(I_Echo, <span class="stringliteral">&quot;I_Echo&quot;</span>)</div><div class="line">    RCF_METHOD_R1(Point3D, Echo, const Point3D &amp;)</div><div class="line">RCF_END(I_Echo)</div></div><!-- fragment --><p> , you'll end up with an compiler error similar to this one:</p>
<div class="fragment"><div class="line">..\\..\\..\\..\\..\include\SF\Serializer.hpp(324) : error C2039: &#39;serialize&#39; : is not a member of &#39;Point3D&#39;</div><div class="line">        C6.cpp(13) : see declaration of &#39;Point3D&#39;</div><div class="line">        ..\\..\\..\\..\\..\include\SF\Serializer.hpp(336) : see reference to function template instantiation &#39;void SF::serializeInternal&lt;T&gt;(SF::Archive &amp;,T &amp;)&#39; being compiled</div><div class="line">        with</div><div class="line">        \[</div><div class="line">            T=U</div><div class="line">        \]</div><div class="line">        &lt;snip&gt;</div></div><!-- fragment --><p>The compiler is telling us that it couldn't find any serialization code for the class <code>Point3D</code>. We need to provide a <code>serialize()</code> function, either as a member function:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Point3D</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">double</span> mX;</div><div class="line">    <span class="keywordtype">double</span> mY;</div><div class="line">    <span class="keywordtype">double</span> mZ;</div><div class="line"></div><div class="line">    <span class="comment">// Internal serialization.</span></div><div class="line">    <span class="keywordtype">void</span> serialize(<a class="code" href="class_s_f_1_1_archive.html">SF::Archive</a> &amp;ar)</div><div class="line">    {</div><div class="line">        ar &amp; mX &amp; mY &amp; mZ;</div><div class="line">    }</div><div class="line">};</div></div><!-- fragment --><p> , or as a free function in either the same namespace as <code>Point3D</code>, or in the <code>SF</code> namespace:</p>
<div class="fragment"><div class="line"><span class="comment">// External serialization.</span></div><div class="line"><span class="keywordtype">void</span> serialize(<a class="code" href="class_s_f_1_1_archive.html">SF::Archive</a> &amp;ar, Point3D &amp;point)</div><div class="line">{</div><div class="line">    ar &amp; point.mX &amp; point.mY &amp; point.mY;</div><div class="line">}</div></div><!-- fragment --><p> The code in the <code>serialize()</code> function specifies which members to serialize.</p>
<p>The <code>serialize()</code> function is used both for serialization and deserialization. In some cases, you may want to use different logic, depending on whether the code is serializing or deserializing an object. For example, the following snippet implements serialization of the <code>boost::gregorian::date</code> class, by representing it as a string:</p>
<div class="fragment"><div class="line"><span class="comment">// Serialization code for boost::gregorian::date can be placed either in</span></div><div class="line"><span class="comment">// the boost::gregorian::date namespace (where the path class is defined), or </span></div><div class="line"><span class="comment">// in the SF namespace. Here we&#39;ve chosen the SF namespace.</span></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_s_f.html">SF</a> {</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> serialize(<a class="code" href="class_s_f_1_1_archive.html">SF::Archive</a> &amp; ar, boost::gregorian::date &amp; dt)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (ar.<a class="code" href="class_s_f_1_1_archive.html#a43cc777d18eff8c761ec5133603ba680">isWrite</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Code for serializing.</span></div><div class="line">            std::ostringstream os;</div><div class="line">            os &lt;&lt; dt;</div><div class="line">            std::string s = os.str();</div><div class="line">            ar &amp; s;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Code for deserializing.</span></div><div class="line">            std::string s;</div><div class="line">            ar &amp; s;</div><div class="line">            std::istringstream is(s);</div><div class="line">            is &gt;&gt; dt;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="BinaryData"></a>
Binary Data</h1>
<p>To send a chunk of binary data, you can use the <code><a class="el" href="class_r_c_f_1_1_byte_buffer.html">RCF::ByteBuffer</a></code> class:</p>
<div class="fragment"><div class="line">RCF_BEGIN(I_Echo, <span class="stringliteral">&quot;I_Echo&quot;</span>)</div><div class="line">    RCF_METHOD_R1(<a class="code" href="namespace_r_c_f.html">RCF</a>::ByteBuffer, Echo, <a class="code" href="namespace_r_c_f.html">RCF</a>::ByteBuffer)</div><div class="line">RCF_END(I_Echo)</div><div class="line"></div><div class="line">class EchoImpl</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <a class="code" href="class_r_c_f_1_1_byte_buffer.html">RCF::ByteBuffer</a> Echo(<a class="code" href="class_r_c_f_1_1_byte_buffer.html">RCF::ByteBuffer</a> byteBuffer)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">return</span> byteBuffer;</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line">} </div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main()</div><div class="line">{</div><div class="line">    EchoImpl echoImpl;</div><div class="line">    <a class="code" href="class_r_c_f_1_1_rcf_server.html">RCF::RcfServer</a> server( <a class="code" href="class_r_c_f_1_1_tcp_endpoint.html">RCF::TcpEndpoint</a>(0));</div><div class="line">    server.<a class="code" href="class_r_c_f_1_1_rcf_server.html#a3e8f6a060a87beb96b5690e9829c9c3f">bind</a>&lt;I_Echo&gt;(echoImpl);</div><div class="line">    server.<a class="code" href="class_r_c_f_1_1_rcf_server.html#a737d7cf9860b1d49209b2ebe891e4449">start</a>();</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> port = server.<a class="code" href="class_r_c_f_1_1_rcf_server.html#a109e2e070599daafa3a50446b6336134">getIpServerTransport</a>().<a class="code" href="class_r_c_f_1_1_ip_server_transport.html#a8039d39a935abdf24f5fade86574cac3">getPort</a>();</div><div class="line"></div><div class="line">    <span class="comment">// Create and fill a 500 kb byte buffer.</span></div><div class="line">    <a class="code" href="class_r_c_f_1_1_byte_buffer.html">RCF::ByteBuffer</a> byteBuffer(500*1024);</div><div class="line">    <span class="keywordflow">for</span> (std::size_t i=0; i&lt;byteBuffer.getLength(); ++i)</div><div class="line">    {</div><div class="line">        byteBuffer.getPtr()[i] = char(i % 256);</div><div class="line">    }</div><div class="line"></div><div class="line">    RcfClient&lt;I_Echo&gt; client(( <a class="code" href="class_r_c_f_1_1_tcp_endpoint.html">RCF::TcpEndpoint</a>(port) ));</div><div class="line"></div><div class="line">    <span class="comment">// Echo it.</span></div><div class="line">    <a class="code" href="class_r_c_f_1_1_byte_buffer.html">RCF::ByteBuffer</a> byteBuffer2 = client.Echo(byteBuffer);</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> <code>std::string</code> or <code>std::vector&lt;char&gt;</code> could be used for the same purpose. However, serialization and marshaling of <code><a class="el" href="class_r_c_f_1_1_byte_buffer.html">RCF::ByteBuffer</a></code> is significantly more efficient (see <a class="el" href="_performance.html">Performance</a>). With <code><a class="el" href="class_r_c_f_1_1_byte_buffer.html">RCF::ByteBuffer</a></code>, no copies at all will be made of the data, on either end of the wire.</p>
<h1><a class="anchor" id="Portability"></a>
Portability</h1>
<p>Because C++ does not prescribe the sizes of its fundamental types, there is potential for serialization errors when servers and clients are deployed on different platforms. For example, consider the following interface:</p>
<div class="fragment"><div class="line">RCF_BEGIN(I_Echo, <span class="stringliteral">&quot;I_Echo&quot;</span>)</div><div class="line">    RCF_METHOD_R1(std::<span class="keywordtype">size_t</span>, Echo, std::<span class="keywordtype">size_t</span>)</div><div class="line">RCF_END(I_Echo)</div></div><!-- fragment --><p> The <code>Echo()</code> method uses <code>std::size_t</code> as a parameter and return value.</p>
<p>Unfortunately, <code>std::size_t</code> has different meanings on different platforms. For example, the 32 bit Visual C++ compiler considers <code>std::size_t</code> to be a 32 bit type, while the 64 bit Visual C++ compiler considers <code>std::size_t</code> to be a 64 bit type. Consequently, if a remote call is made from a 32 bit client to a 64 bit server, using a method with <code>std::size_t</code> parameters, a runtime serialization error will be raised.</p>
<p>The same issue arises when using the type <code>long</code> with 32 and 64 bit versions of gcc. 32-bit gcc considers <code>long</code> to be a 32 bit type, while 64-bit gcc considers <code>long</code> to be a 64-bit type.</p>
<p>The correct approach in these situations is to use typedefs for arithmetic types whose bit sizes are guaranteed. In particular, the standard C++ <code>&lt;cstdint&gt;</code> header provides a number of useful typedefs, including the following.</p>
<table class="doxtable">
<tr>
<th>Type </th><th>Description  </th></tr>
<tr>
<td><code>std::int16_t</code> </td><td>16 bit signed integer </td></tr>
<tr>
<td><code>std::uint16_t</code> </td><td>16 bit unsigned integer </td></tr>
<tr>
<td><code>std::int32_t</code> </td><td>32 bit signed integer </td></tr>
<tr>
<td><code>std::uint32_t</code> </td><td>32 bit unsigned integer </td></tr>
<tr>
<td><code>std::int64_t</code> </td><td>64 bit signed integer </td></tr>
<tr>
<td><code>std::uint64_t</code> </td><td>64 bit unsigned integer </td></tr>
</table>
<p>To ensure portability, the example with <code>std::size_t</code>, above, should be rewritten as:</p>
<div class="fragment"><div class="line">RCF_BEGIN(I_Echo, <span class="stringliteral">&quot;I_Echo&quot;</span>)</div><div class="line">    RCF_METHOD_R1(std::uint32_t, Echo, std::uint32_t)</div><div class="line">    RCF_METHOD_R1(std::uint64_t, Echo, std::uint64_t)</div><div class="line">RCF_END(I_Echo)</div></div><!-- fragment --><h1><a class="anchor" id="StandAlone"></a>
Serialization To and From Disk</h1>
<p>RCF serialization can be used to serialize objects to and from disk. To do so, use <code><a class="el" href="class_s_f_1_1_o_binary_stream.html" title="Output stream using SF binary serialization. ">SF::OBinaryStream</a></code> and <code><a class="el" href="class_s_f_1_1_i_binary_stream.html" title="Input stream using SF binary serialization. ">SF::IBinaryStream</a></code>:</p>
<div class="fragment"><div class="line">    std::string filename = <span class="stringliteral">&quot;data.bin&quot;</span>;</div><div class="line"></div><div class="line">    X x1;</div><div class="line">    X x2;</div><div class="line"></div><div class="line">    <span class="comment">// Write x1 to a file.</span></div><div class="line">    {</div><div class="line">        std::ofstream fout(filename.c_str(), std::ios::binary);</div><div class="line">        <a class="code" href="class_s_f_1_1_o_binary_stream.html">SF::OBinaryStream</a> os(fout);</div><div class="line">        os &lt;&lt; x1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Read x2 from a file.</span></div><div class="line">    {</div><div class="line">        </div><div class="line">        std::ifstream fin(filename.c_str(), std::ios::binary);</div><div class="line">        <a class="code" href="class_s_f_1_1_i_binary_stream.html">SF::IBinaryStream</a> is(fin);</div><div class="line">        is &gt;&gt; x2;</div><div class="line">    }</div><div class="line"></div></div><!-- fragment --><p> For more advanced topics on serialization, see <a class="el" href="_advanced_serialization.html">Advanced Serialization</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <!--  -->
    <li class="footer">Copyright (C) <a href="http://www.deltavsoft.com">Delta V Software</a> 2023</li>
    <!-- <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li> -->
  </ul>
</div>
                            </div>
        </div>
    </div>
</body>
</html>
