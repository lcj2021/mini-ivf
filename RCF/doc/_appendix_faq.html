
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Remote Call Framework (RCF) - Delta V Software</title>
    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <!-- JL: Using timestamp here to prevent css file from being cached -->
    <link href="../css/website.css?<?php echo time(); ?>" rel="stylesheet" />
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="doxygenBase.css" rel="stylesheet" type="text/css" />
    <link href="doxyStylesheet.css" rel="stylesheet" type="text/css"/>
<link href="doxySidebarFixes.css" rel="stylesheet" type="text/css"/>
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet" />
    <script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body style="padding-top: 0px">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light navbar-fixed-top" style="top: 20px;">
        <!-- <nav class="navbar navbar-expand-lg fixed-top"> -->
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="RCF_Logo_70px.png" height="70" /> </img></a>
            <!--
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item" style="padding-top: 0px;">
                        <a class="nav-link" href="../index.html"><i class="fa fa-home"></i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Documentation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../download.html">Download</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../licensing.html">Licensing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../contact.html">Contact</a>
                    </li>
                </ul>
            </div>
                -->
        </div>
    </nav>
        <div class="container">
        <div class="row">
            <div class="col-lg-12">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Remote Call Framework 3.4
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_appendix_faq.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Appendix - FAQ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Building"></a>
Building</h1>
<h2>Why is my program trying to link to a Boost library?</h2>
<p>If you have defined <code>RCF_FEATURE_BOOST_SERIALIZATION</code>, RCF will need to link to the Boost.Serialization library.</p>
<p>RCF does not link to any other Boost libraries.</p>
<p>Boost libraries have an auto linking feature that may cause your linker to look for the wrong file to link to. You can define <code>BOOST_ALL_NO_LIB</code>, and then explicitly tell the linker which files to link to.</p>
<h2>Can I compile RCF into a DLL?</h2>
<p>Yes. To export RCF functions from a DLL (Windows) or shared library (Unix), you will need to define <code>RCF_BUILD_DLL</code> when building the DLL or shared library.</p>
<h2>Why do I sometimes get compiler errors when I include &lt;windows.h&gt; before RCF headers?</h2>
<p>Historically there have been some header ordering issues with the Windows platform headers <code>&lt;windows.h&gt;</code> and <code>&lt;winsock2.h&gt;</code>. Including <code>&lt;windows.h&gt;</code> will by default include an older version of Winsock, and makes it impossible to subsequently include <code>&lt;winsock2.h&gt;</code> in the same translation unit.</p>
<p>The easiest workaround for this issue is to define <code>WIN32_LEAN_AND_MEAN</code>, before including <code>&lt;windows.h&gt;</code>.</p>
<h2>Does RCF compile warning free on level 4 on Visual C++?</h2>
<p>Yes, if the following warnings are disabled:</p>
<div class="fragment"><div class="line">C4510 &#39;class&#39; : default constructor could not be generated</div><div class="line">C4511 &#39;class&#39; : copy constructor could not be generated</div><div class="line">C4512 &#39;class&#39; : assignment operator could not be generated</div><div class="line">C4127 conditional expression is constant</div></div><!-- fragment --><h2>Can I run RCF on platform XYZ?</h2>
<p>Probably, but you may need to make minor modifications to RCF yourself, to accomodate platform specific issues, such as which platform headers to include.</p>
<h2>Why do I get linker errors?</h2>
<p>On Windows, if you are using TCP transports, you'll need to link to ws2_32.lib. On Unix platforms, you'll need to link to libraries like <code>libnsl</code> or <code>libsocket</code>.</p>
<h2>Does RCF support 64 bit compilers?</h2>
<p>Yes.</p>
<h2>Does RCF support Unicode builds on Windows?</h2>
<p>Yes.</p>
<h2>Why do I get duplicate symbol linker errors for my external serialization functions?</h2>
<p>If you define external serialization functions in a header file, without the <code>inline</code> modifier, and include them in two or more source files, you will get linker errors about duplicate symbols. The solution is to either add an <code>inline</code> modifier:</p>
<div class="fragment"><div class="line">// X.hpp</div><div class="line">inline void serialize(SF::Archive &amp; ar, X &amp; x)</div><div class="line">{</div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --><p>, or to declare the serialization function in a header and define it in a source file :</p>
<div class="fragment"><div class="line">// X.hpp</div><div class="line">void serialize(SF::Archive &amp; ar, X &amp; x);</div></div><!-- fragment --><div class="fragment"><div class="line">// X.cpp</div><div class="line">void serialize(SF::Archive &amp; ar, X &amp; x)</div><div class="line">{</div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --><h2>How do I reduce build times for my application?</h2>
<p>If you include RCF headers into commonly used application headers of your own, you may notice an increase in build time, as the compiler will parse the RCF headers once for every source file that includes them.</p>
<p>You should only include RCF headers when you need to - in other words, only include them into source files that use RCF functionality. In your application header files, you should be able to use forward declarations, rather than including the corresponding header files.</p>
<p>For example, if you are defining a class <code>X</code> with a <code>RcfClient&lt;&gt;</code> member, you can forward declare the <code>RcfClient&lt;&gt;</code>, and then use a pointer for the member:</p>
<div class="fragment"><div class="line">// X.h</div><div class="line">template&lt;typename T&gt;</div><div class="line">class RcfClient;</div><div class="line"></div><div class="line">class SomeInterface;</div><div class="line">typedef RcfClient&lt;SomeInterface&gt; MyRcfClient;</div><div class="line">typedef std::shared_ptr&lt;MyRcfClient&gt; MyRcfClientPtr;</div><div class="line"></div><div class="line">class RcfServer;</div><div class="line">typedef std::shared_ptr&lt;RcfServer&gt; RcfServerPtr;</div><div class="line"></div><div class="line">// Application specific class that holds a RcfClient and a RcfServer.</div><div class="line">class X</div><div class="line">{  </div><div class="line">    X();</div><div class="line">    MyRcfClientPtr mClientPtr;</div><div class="line">    RcfServerPtr mServerPtr;</div><div class="line">};</div></div><!-- fragment --><div class="fragment"><div class="line">// X.cpp</div><div class="line">#include &quot;X.h&quot;</div><div class="line">#include &lt;RCF/RcfClient.hpp&gt;</div><div class="line">#include &lt;RCF/RcfServer.hpp&gt;</div><div class="line"></div><div class="line">X::X() : </div><div class="line">    mClientPtr( new RcfClient&lt;SomeInterface&gt;(...) ), </div><div class="line">    mRcfServerPtr( new RcfServer(...) ) </div><div class="line">{}</div></div><!-- fragment --><p>You can then include <code>X.h</code> anywhere in your application, without including any RCF headers.</p>
<h1><a class="anchor" id="Platforms"></a>
Platforms</h1>
<h2>Why do I run out of socket handles on Windows XP?</h2>
<p>Whenever an outgoing TCP connection is made, a local port number has to be assigned to the connection. On Windows XP, those local ports (sometimes referred to as ephemeral ports) are by default assigned from a range of about 4000 port numbers.</p>
<p>If you create many <code>RcfClient&lt;&gt;</code> objects, with TCP endpoints, you will eventually exhaust the available ports, as Windows holds on to them for a short while after the connection is closed.</p>
<p>You should use as few TCP connections as possible (reuse <code>RcfClient&lt;&gt;</code> objects instead of creating new ones). There are also registry settings on Windows XP that alleviate the issue. Locate the following key:</p>
<p><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters</code></p>
<p>, and set</p>
<p><code>TcpNumConnections = 0x800, MaxUserPort = 65534</code></p>
<p>After restarting, the system will allow an expanded range of ephemeral ports.</p>
<p>This problem is only relevant to older versions of Windows. Windows Vista and later use an expanded range of ephemeral ports.</p>
<h2>Why does my leak detector think there is a leak in RCF?</h2>
<p>Probably because <code><a class="el" href="_init_deinit_8hpp.html#af9e8b77e0223da32473bdc9be52eab56" title="Reference-counted deinitialization of RCF library. For actual deinitialization to take place...">RCF::deinit()</a></code> has not yet been executed.</p>
<h2>Is RCF's TCP server implementation based on I/O completion ports?</h2>
<p>On Windows, RCF uses I/O completion ports. See <a class="el" href="_performance.html#Scalability">Scalability</a>.</p>
<h2>Does RCF support a shared memory transport?</h2>
<p>For local RPC on Windows, RCF supports named pipe transports (<code><a class="el" href="class_r_c_f_1_1_win32_named_pipe_endpoint.html" title="Represents a Win32 named pipe endpoint. Only available on Windows platforms. ">RCF::Win32NamedPipeEndpoint</a></code>), which are backed by shared memory.</p>
<p>For local RPC on Unix, RCF supports Unix local socket transports (<code><a class="el" href="class_r_c_f_1_1_unix_local_endpoint.html" title="Represents a UNIX local socket endpoint. Only available on UNIX platforms. ">RCF::UnixLocalEndpoint</a></code>).</p>
<h2>Does RCF support IPv6?</h2>
<p>Yes - see <a class="el" href="_transports.html#IPv6">IPv4/IPv6</a>.</p>
<h1><a class="anchor" id="Programming"></a>
Programming</h1>
<h2>How do I keep my user interface from becoming unresponsive when there's a remote call in progress?</h2>
<p>Either run remote calls on a non-UI thread, or use progress callbacks to repaint the UI at short intervals. See <a class="el" href="_clientside.html#ClientStubs_Progress">Client Progress Notification</a>.</p>
<h2>How do I cancel a long-running client call?</h2>
<p>Use a progress callback (see <a class="el" href="_clientside.html#ClientStubs_Progress">Client Progress Notification</a>). You can configure the callback to be called at any given frequency, and when you want to cancel the call, throw an exception.</p>
<h2>How do I stop a server from within a remote call?</h2>
<p>You can't call <code><a class="el" href="class_r_c_f_1_1_rcf_server.html#acda4490f988f83af77528e3b5b5074f5" title="Stops the RcfServer. After stopping, clients are no longer able to connect to the server...">RCF::RcfServer::stop()</a></code> from within a remote call, because the <code>stop()</code> call will wait for all worker threads to exit, including the thread calling <code>stop()</code>, hence causing a deadlock.</p>
<p>If you really need to stop the server from within a remote call, you can start a new thread to do so:</p>
<div class="fragment"><div class="line">RCF_BEGIN(I_Echo, <span class="stringliteral">&quot;I_Echo&quot;</span>)</div><div class="line">    RCF_METHOD_R1(std::<span class="keywordtype">string</span>, Echo, const std::<span class="keywordtype">string</span> &amp;)</div><div class="line">RCF_END(I_Echo)</div><div class="line"></div><div class="line">class EchoImpl</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    std::string Echo(<span class="keyword">const</span> std::string &amp;s)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (s == <span class="stringliteral">&quot;stop&quot;</span>)</div><div class="line">        {</div><div class="line">            <span class="comment">// Spawn a temporary thread to stop the server.</span></div><div class="line">            <a class="code" href="class_r_c_f_1_1_rcf_server.html">RCF::RcfServer</a> * pServer = &amp; <a class="code" href="_rcf_session_8hpp.html#a9d9e37f6e66bcbc3a1f6e5775d107cb2">RCF::getCurrentRcfSession</a>().<a class="code" href="class_r_c_f_1_1_rcf_session.html#acc2c410ba09956658ef8b04ede1236ff">getRcfServer</a>();</div><div class="line">            RCF::Thread t( [=]() { pServer-&gt;<a class="code" href="class_r_c_f_1_1_rcf_server.html#acda4490f988f83af77528e3b5b5074f5">stop</a>(); } );</div><div class="line">            t.detach();</div><div class="line">        }</div><div class="line">        <span class="keywordflow">return</span> s;</div><div class="line">    }</div><div class="line">};</div></div><!-- fragment --><h2>How can I make remotely accessible functions private?</h2>
<p>Make <code>RcfClient&lt;&gt;</code> a friend of your implementation class:</p>
<div class="fragment"><div class="line">    RCF_BEGIN(I_Echo, <span class="stringliteral">&quot;I_Echo&quot;</span>)</div><div class="line">        RCF_METHOD_R1(std::<span class="keywordtype">string</span>, Echo, const std::<span class="keywordtype">string</span> &amp;)</div><div class="line">    RCF_END(I_Echo)</div><div class="line"></div><div class="line">    class EchoImpl</div><div class="line">    {</div><div class="line">    <span class="keyword">private</span>:</div><div class="line"></div><div class="line">        <span class="keyword">friend</span> RcfClient&lt;I_Echo&gt;;</div><div class="line"></div><div class="line">        std::string Echo(<span class="keyword">const</span> std::string &amp;s)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">return</span> s;</div><div class="line">        }</div><div class="line">    };</div></div><!-- fragment --><h2>How do I use a single TCP connection with several <code>RcfClient&lt;&gt;</code> instances?</h2>
<p>You can move network connections from one <code>RcfClient&lt;&gt;</code> to another. See <a class="el" href="_clientside.html#ClientSide_TransportAccess">Transport Access</a>.</p>
<h2>How do I forcibly disconnect a client from the server?</h2>
<p>Call <code><a class="el" href="_rcf_session_8hpp.html#a9d9e37f6e66bcbc3a1f6e5775d107cb2" title="Can only be called from within the server-side implementation of a remote call. Returns a reference t...">RCF::getCurrentRcfSession()</a>.disconnect()</code> in your server implementation.</p>
<h2>At what point does a <code>RcfClient&lt;&gt;</code> object connect to the server?</h2>
<p>A <code>RcfClient&lt;&gt;</code> will only establish a network connection once you initiate a remote call. If you want to establish a network connections without actually making a remote call, use <code><a class="el" href="class_r_c_f_1_1_client_stub.html#a3f4b0d9af03e87dee462aa24fbe66415" title="Establishes a network connection to the server. ">RCF::ClientStub::connect()</a></code>.</p>
<h2>How do I determine what IP address a client is connecting from?</h2>
<p>Call <code><a class="el" href="_rcf_session_8hpp.html#a9d9e37f6e66bcbc3a1f6e5775d107cb2" title="Can only be called from within the server-side implementation of a remote call. Returns a reference t...">RCF::getCurrentRcfSession()</a>.getClientAddress()</code> in your server implementation.</p>
<h2>How do I detect client disconnections, from server-side code?</h2>
<p>When a client disconnects, the associated <code><a class="el" href="class_r_c_f_1_1_rcf_session.html" title="Represents a server side session, associated with a client connection. ">RCF::RcfSession</a></code> on the server is destroyed. You can use <code>RcfSession::setOnDestroyCallback()</code>, to notify your application code when this happens.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> onClientDisconnect(<a class="code" href="class_r_c_f_1_1_rcf_session.html">RCF::RcfSession</a> &amp; session)</div><div class="line">{</div><div class="line">    <span class="comment">// ...</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">class </span>ServerImpl</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> SomeFunc()</div><div class="line">    {</div><div class="line">        <span class="comment">// From within a remote call, register a callback to be called when this RcfSession is destroyed.</span></div><div class="line"></div><div class="line">        <span class="keyword">auto</span> onDestroy = [&amp;](<a class="code" href="class_r_c_f_1_1_rcf_session.html">RCF::RcfSession</a>&amp; session) { onClientDisconnect(session); };</div><div class="line">        <a class="code" href="_rcf_session_8hpp.html#a9d9e37f6e66bcbc3a1f6e5775d107cb2">RCF::getCurrentRcfSession</a>().setOnDestroyCallback(onDestroy);</div><div class="line">    }</div><div class="line">};</div></div><!-- fragment --><h2>Can I use publish/subscribe through a firewall?</h2>
<p>Yes. As long as a subscriber is able to initiate a connection to the publisher, it will receive published messages. The publisher will never initiate any network connection back to a subscriber.</p>
<h2>How do I know whether a subscriber has received a published message?</h2>
<p>The publisher cannot know this, because messages are published using one-way semantics.</p>
<h2>How does a subscriber know if a publisher has stopped publishing?</h2>
<p>Use subscriber disconnect notifications. See <a class="el" href="_pub_sub.html#Subscribers">Subscribers</a>.</p>
<p>You can also poll for connectedness using <code><a class="el" href="class_r_c_f_1_1_subscription.html#ab54028f04eafc22e50c437275e89428c" title="Checks if the subscriber has a valid network connection handle to the publisher. ">RCF::Subscription::isConnected()</a></code>.</p>
<h2>Why can't I use pointers in RCF interfaces?</h2>
<p>Pointers can't be used as return types in RCF interfaces, because there is no safe way of marshaling them.</p>
<p>Pointers can be used as parameters in RCF interfaces, although most of the time you are better off either using references, or one of the smart pointer types available in C++.</p>
<h2>How do I start a TCP server on the first available port on my machine?</h2>
<p>Specify a port number of zero in the <code><a class="el" href="class_r_c_f_1_1_tcp_endpoint.html" title="Represents a TCP endpoint. ">RCF::TcpEndpoint</a></code> object passed to the <code><a class="el" href="class_r_c_f_1_1_rcf_server.html" title="Provides RCF server-side functionality. ">RCF::RcfServer</a></code> constructor. After the server is started, retrieve the port number by calling <code>RcfServer::getIpServerTransport().getPort()</code>.</p>
<h2>How do I expose several servant objects with the same RCF interface?</h2>
<p>Use servant binding names. See <a class="el" href="_serverside.html#ServantBindings">Adding Servant Bindings</a>.</p>
<h2>Why is my server only accessible from the local machine, and not across the network?</h2>
<p>In the <code><a class="el" href="class_r_c_f_1_1_tcp_endpoint.html" title="Represents a TCP endpoint. ">RCF::TcpEndpoint</a></code> passed to your <code><a class="el" href="class_r_c_f_1_1_rcf_server.html" title="Provides RCF server-side functionality. ">RCF::RcfServer</a></code>, you need to specify <code>0.0.0.0</code> as the IP address, to allow clients to access it through any network interface. By default <code>127.0.0.1</code> is used, which will only allow clients on the local machine to connect.</p>
<h2>Why does my program crash or assert when exiting?</h2>
<p>Probably because your program has a global static object whose destructor is trying to destroy a <code>RcfClient&lt;&gt;</code> or <code>RcfServer</code> object (or some other RCF object), after RCF has been deinitialized.</p>
<p>Make sure you destroy all RCF objects before deinitializing RCF.</p>
<h2>How do I serialize enums?</h2>
<p>RCF will serialize and deserialize C++03 enums automatically, as integer representations.</p>
<p>C++11 enum classes require a helper macro <code><a class="el" href="_serializer_8hpp.html#a2c4ca9c15976a97da7fc0b74d896e173" title="Instructs RCF to serialize enum class EnumType, as a BaseType object. ">SF_SERIALIZE_ENUM_CLASS()</a></code> (see <a class="el" href="_serialization.html#StandardCppTypes">Standard C++ Types</a>).</p>
<h2>Can I use SF to serialize objects to and from files?</h2>
<p>Yes, see <a class="el" href="_serialization.html#StandAlone">Serialization To and From Disk</a>.</p>
<h2>How do I send a file using RCF?</h2>
<p>See <a class="el" href="_file_transfers.html">File Transfers</a>.</p>
<h2>How can I access the internal <code>asio::io_service</code> used by the RCF server?</h2>
<p>You can call <code>AsioServerTransport::getIoService()</code>:</p>
<div class="fragment"><div class="line">#include &lt;RCF/AsioServerTransport.hpp&gt;</div><div class="line"></div><div class="line">RCF::RcfServer server( RCF::TcpEndpoint(0) );</div><div class="line">RCF::ServerTransport &amp; transport = server.getServerTransport();</div><div class="line">RCF::AsioServerTransport &amp; asioTransport = dynamic_cast&lt;RCF::AsioServerTransport &amp;&gt;(transport);</div><div class="line">boost::asio::io_service &amp; ioService = asioTransport.getIoService();</div></div><!-- fragment --><p>The <code>io_service</code> will be destroyed when the <code>RcfServer</code> is stopped.</p>
<h2>How do I pass a security token from the client to the server, without changing the RCF interface?</h2>
<p>You can use custom request user data (<code><a class="el" href="class_r_c_f_1_1_client_stub.html#a5047b49e5e5613c8890cdaaf8c25571f" title="Sets application-specific data associated with the RCF request. ">RCF::ClientStub::setRequestUserData()</a></code>, <code><a class="el" href="class_r_c_f_1_1_rcf_session.html#ad3c4e6aced6599b1bb919e4a88666875" title="Gets application-specific data associated with the RCF request. ">RCF::RcfSession::getRequestUserData()</a></code>) , to pass application specific data from the client to the server. See <a class="el" href="_clientside.html#UserData">Custom Request and Response Data</a>.</p>
<h2>Can I send <code>std::wstring</code> objects between Linux and Windows?</h2>
<p>Yes. <code>std::wstring</code> objects are assumed to be represented in UTF-32 on Linux, and UTF-16 on Windows, and RCF will encode them as UTF-8 when serializing.</p>
<h2>Can I send UTF-8 encoded <code>std::string</code> objects between Linux and Windows?</h2>
<p>Yes. RCF serializes <code>std::string</code> as a sequence of 8-bit characters, so it doesn't matter whether the encoding is ASCII, ISO-8859-1, UTF-8, or anything else.</p>
<h1><a class="anchor" id="Misc"></a>
Miscellaneous</h1>
<h2>Why are there double parentheses in many of the examples in the documentation?</h2>
<p>The following code snippet will cause compiler errors:</p>
<div class="fragment"><div class="line">        <span class="keywordtype">int</span> port = 0;</div><div class="line">        RcfClient&lt;I_Echo&gt; client( <a class="code" href="class_r_c_f_1_1_tcp_endpoint.html">RCF::TcpEndpoint</a>(port) );</div><div class="line">        <a class="code" href="class_r_c_f_1_1_rcf_server.html">RCF::RcfServer</a> server( <a class="code" href="class_r_c_f_1_1_tcp_endpoint.html">RCF::TcpEndpoint</a>(port) );</div><div class="line"></div><div class="line">        <span class="comment">// Will get compiler errors on both of these lines...</span></div><div class="line">        client.getClientStub();</div><div class="line">        server.<a class="code" href="class_r_c_f_1_1_rcf_server.html#a737d7cf9860b1d49209b2ebe891e4449">start</a>();</div></div><!-- fragment --><p> Because of a C++ language idiosyncracy, the declarations of <code>client</code> and <code>server</code> are actually interpreted as function declarations, taking a <code><a class="el" href="class_r_c_f_1_1_tcp_endpoint.html" title="Represents a TCP endpoint. ">RCF::TcpEndpoint</a></code> parameter named <code>port</code>. C++ compilers interpret the declarations this way to maintain backwards compatibility with C.</p>
<p>To clear up this ambiguity, extra parentheses are needed around the <code><a class="el" href="class_r_c_f_1_1_tcp_endpoint.html" title="Represents a TCP endpoint. ">RCF::TcpEndpoint</a></code>:</p>
<div class="fragment"><div class="line">        <span class="keywordtype">int</span> port = 0;</div><div class="line">        RcfClient&lt;I_Echo&gt; client(( <a class="code" href="class_r_c_f_1_1_tcp_endpoint.html">RCF::TcpEndpoint</a>(port) ));</div><div class="line">        <a class="code" href="class_r_c_f_1_1_rcf_server.html">RCF::RcfServer</a> server(( <a class="code" href="class_r_c_f_1_1_tcp_endpoint.html">RCF::TcpEndpoint</a>(port) ));</div><div class="line"></div><div class="line">        <span class="comment">// Now its OK.</span></div><div class="line">        client.getClientStub();</div><div class="line">        server.<a class="code" href="class_r_c_f_1_1_rcf_server.html#a737d7cf9860b1d49209b2ebe891e4449">start</a>();</div></div><!-- fragment --><p> This quirk of the C++ language is sometimes referred to as <a href="http://en.wikipedia.org/wiki/Most_vexing_parse">"C++'s most vexing parse"</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <!--  -->
    <li class="footer">Copyright (C) <a href="http://www.deltavsoft.com">Delta V Software</a> 2023</li>
    <!-- <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li> -->
  </ul>
</div>
                            </div>
        </div>
    </div>
</body>
</html>
